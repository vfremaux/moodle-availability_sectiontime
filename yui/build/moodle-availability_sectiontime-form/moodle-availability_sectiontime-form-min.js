YUI.add("moodle-availability_sectiontime-form",function(e,t){M.availability_sectiontime=M.availability_sectiontime||{},M.availability_sectiontime.form=e.Object(M.core_availability.plugin),M.availability_sectiontime.form.sections=null,M.availability_sectiontime.form.initInner=function(e){this.sections=e},M.availability_sectiontime.form.getNode=function(t){var n=M.str.availability_sectiontime,r='<span class="availability-group">';r+='<label><span class="accesshide"></span> '+n.conditiontitle+' <input name="timespent" type="text" style="width: 10em" title="'+n.conditiontitle+'"/></label>',r+="<label> "+n.insection+" "+'<select name="sectionid">'+'<option value="choose">'+M.str.moodle.choosedots+"</option>";var i;for(var s=0;s<this.sections.length;s++)i=this.sections[s],r+='<option value="s_'+i.field+'">'+i.display+"</option>";r+="</select></label>",r+="</span>";var o=e.Node.create("<span>"+r+"</span>");t.s!==undefined&&o.one("select[name=sectionid] > option[value=s_"+t.s+"]")&&o.one("select[name=sectionid]").set("value","s_"+t.s),t.t!==undefined&&o.one("input[name=timespent]").set("value",t.t);if(!M.availability_sectiontime.form.addedEvents){M.availability_sectiontime.form.addedEvents=!0;var u=function(e){var t=e.ancestor("span.availability_sectiontime");M.core_availability.form.update()},a=e.one(".availability-field");a.delegate("change",function(){u(this)},".availability_sectiontime select"),a.delegate("change",function(){u(this)},".availability_sectiontime input[name=timespent]")}return o},M.availability_sectiontime.form.fillValue=function(e,t){var n=t.one("select[name=sectionid]").get("value");n.substr(0,2)==="s_"&&(e.s=n.substr(2));var r=t.one("input[name=timespent]");e.t=r.get("value")},M.availability_sectiontime.form.fillErrors=function(e,t){var n={};this.fillValue(n,t),n.t===undefined&&e.push("availability_sectiontime:error_nulltimespent"),n.s===undefined&&e.push("availability_sectiontime:error_nosection")}},"@VERSION@",{requires:["base","node","event","io","moodle-core_availability-form"]});
