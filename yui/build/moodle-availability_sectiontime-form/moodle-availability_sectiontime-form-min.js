YUI.add("moodle-availability_sectiontime-form",function(i,e){M.availability_sectiontime=M.availability_sectiontime||{},M.availability_sectiontime.form=i.Object(M.core_availability.plugin),M.availability_sectiontime.form.sections=null,M.availability_sectiontime.form.initInner=function(i){this.sections=i},M.availability_sectiontime.form.getNode=function(e){var t,a=M.str.availability_sectiontime,n='<span class="availability-group">';n+='<label><span class="accesshide"></span> '+a.conditiontitle+' <input name="timespent" type="text" style="width: 10em" title="'+a.conditiontitle+'"/></label>',n+="<label> "+a.insection+' <select name="sectionid"><option value="choose">'+M.str.moodle.choosedots+"</option>";for(var o=0;o<this.sections.length;o++)n+='<option value="s_'+(t=this.sections[o]).field+'">'+t.display+"</option>";n+="</select></label>",n+="</span>";var l=i.Node.create("<span>"+n+"</span>");if(void 0!==e.s&&l.one("select[name=sectionid] > option[value=s_"+e.s+"]")&&l.one("select[name=sectionid]").set("value","s_"+e.s),void 0!==e.t&&l.one("input[name=timespent]").set("value",e.t),!M.availability_sectiontime.form.addedEvents){M.availability_sectiontime.form.addedEvents=!0;var s=function(i){i.ancestor("span.availability_sectiontime");M.core_availability.form.update()},c=i.one(".availability-field");c.delegate("change",function(){s(this)},".availability_sectiontime select"),c.delegate("change",function(){s(this)},".availability_sectiontime input[name=timespent]")}return l},M.availability_sectiontime.form.fillValue=function(i,e){var t=e.one("select[name=sectionid]").get("value");"s_"===t.substr(0,2)&&(i.s=t.substr(2));var a=e.one("input[name=timespent]");i.t=a.get("value")},M.availability_sectiontime.form.fillErrors=function(i,e){var t={};this.fillValue(t,e),void 0===t.t&&i.push("availability_sectiontime:error_nulltimespent"),void 0===t.s&&i.push("availability_sectiontime:error_nosection")}},"@VERSION@",{requires:["base","node","event","io","moodle-core_availability-form"]});